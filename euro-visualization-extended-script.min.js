const RATE_EUR=1.95583,REGEX=/(?:лв\.?|BGN)(?:\s*|&nbsp;|\u00A0)?(\d+(?:[.,]\d{0,2})?)|(\d+(?:[.,]\d{0,2})?)|(\d(?: ['\u00A0,&nbsp;]\d)*(?:[.,]\d{2}))(?:\s*|&nbsp;|\u00A0)?(лв\.?|BGN|Bulgarian leva)/g,DIGIT_REGEX=/^\d+(?:[.,]\d+)?$/,CURRENCIES_REGEX=/^(лв\.?|BGN)$/g;function convertDecimalOnlyPriceText(e,t){const n=[...e.matchAll(REGEX)];let o=n[0][0]||n[0];if(!o)return;const r=parseFloat(o.replace(",","."));return isNaN(r)?void 0:t?(r/RATE_EUR).toFixed(0):(r/RATE_EUR).toFixed(2).replace(".",",")}function convertCurrencyText(e){const t=[...e.matchAll(CURRENCIES_REGEX)];if(t[0][0]||t[0])return"EUR"}function convertPriceText(e,t){const n=[...e.matchAll(REGEX)];if(!n||0===n.length)return;let o=null;if(1===n.length?(n[0][0]&&n[0][0].match(DIGIT_REGEX)&&(o=n[0][0]),n[0][1]&&n[0][1].match(DIGIT_REGEX)&&(o=n[0][1]),n[0][2]&&n[0][2].match(DIGIT_REGEX)&&(o=n[0][2])):n[0][0]&&n[0][0].match(DIGIT_REGEX)&&n[1][0]&&n[1][0].match(DIGIT_REGEX)?o=n[0][0]+n[1][0]:n[0][1]&&n[1][0]&&n[1][0].match(DIGIT_REGEX)&&(o=n[0][1].replace(",","").replace(" ","")+n[1][0]),!o)return;const r=parseFloat(o.replace(",","."));return isNaN(r)?void 0:t?(r/RATE_EUR).toFixed(0):(r/RATE_EUR).toFixed(2).replace(".",",")}function appendEUR(e,t,n,o){if(e.querySelector(".eur-price")||e.innerHTML.includes("€"))return;const r=document.createElement("span");r.className="eur-price "+e.className,r.textContent=`/ ${t} €`,r.style.cssText=`\n    font-size: ${o||"1em"};\n    color: ${n||"FFFFFF"};\n    margin-left: 6px;\n    white-space: nowrap;\n  `,e.appendChild(r)}function appendEURDigitOnly(e,t,n,o){if(e.querySelector(".eur-price"))return;const r=document.createElement("span");r.className="eur-price",r.textContent=`/ ${t}`,r.style.cssText=`\n    font-size: ${o||"1em"};\n    color: ${n||"FFFFFF"};\n    margin-left: 6px;\n    white-space: nowrap;\n  `,e.appendChild(r)}function appendCurrencyEURDigitOnly(e,t,n,o){if(e.querySelector(".eur-price"))return;const r=document.createElement("span");r.className="eur-price",r.textContent=`/ ${t}`,r.style.cssText=`\n    font-size: ${o||"1em"};\n    color: ${n||"FFFFFF"};\n    margin-left: 6px;\n    white-space: nowrap;\n  `,e.appendChild(r)}function convertWithInnerText(e,t){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{if(NotIncludesLeva(e))return;if(e.innerText.includes("€"))return;if(e.innerHTML.includes("€"))return;const n=convertPriceText(e.innerText,t);n&&(e.innerText+=`/ ${n} €`)}))}))}function convertWithInnerTextWithReplace(e,t){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{if(NotIncludesLeva(e))return;if(e.innerText.includes("€"))return;if(e.innerHTML.includes("€"))return;const n=convertPriceText(e.innerText,t);n&&e.innerText.replace(REGEX,`/ ${n} €`)}))}))}function convertWithAppending(e){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{if(NotIncludesLeva(e))return;if(e.querySelector(".eur-price"))return;if(e.innerHTML.includes("€"))return;const t=convertPriceText(e.innerText);t&&appendEUR(e,t,e.style.color,e.style.fontSize)}))}))}function convertCurrencyWithAppending(e){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{const t=convertCurrencyText(e.innerText);t&&appendCurrencyEURDigitOnly(e,t,e.style.color,e.style.fontSize)}))}))}function convertDigitsOnlyWithAppending(e){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{const t=convertDecimalOnlyPriceText(e.innerText);t&&appendEURDigitOnly(e,t,e.style.color,e.style.fontSize)}))}))}function NotIncludesLeva(e){return!(e.innerText.includes("лв")||e.innerText.startsWith("BGN")||e.innerText.endsWith("BGN")||e.innerText.includes("BGN")||e.innerText.endsWith("Bulgarian leva"))}function convertCategoryPrices(){convertWithAppending(['[data-hook="product-item-price-to-pay"]','[data-hook="formatted-primary-price"]','[data-hook="challenge-pricing"]'])}function convertProductPagePrice(){document.querySelectorAll('div[data-testid="richTextElement"]').forEach((e=>{const t=e.querySelector("p, h2, span, div");if(!t||NotIncludesLeva(t)||t.querySelector(".eur-price")||t.innerHTML.includes("€"))return;const n=convertPriceText(t.innerText);n&&appendEUR(t,n)}))}function convertCartTotals(){convertWithAppending(['[data-hook="SubTotals.subtotalText"]','[data-hook="Total.formattedValue"]','[data-hook="TotalShipping.estimatedShipping"]','dd[data-hook="SubTotals.subtotalText"]','dd[data-hook="Total.formattedValue"]','dd[data-hook="TotalShipping.estimatedShipping"]'])}function convertSideCartPrices(){convertWithAppending(['[data-hook="CartItemDataHook.price"]','[data-hook="CartItemDataHook.totalPrice"] div','[data-hook="Footer.subtotalValue"]','[data-hook="cart-widget-item-price"]','[data-hook="cart-widget-total"]'])}function convertSideCartPrices(){convertWithInnerText(['[data-hook="CartItemDataHook.totalPrice"] div div','[data-hook="Footer.subtotalValue"]','[data-wix-line-item-price="CartItemDataHook.price"]'])}function convertCheckoutSummaryPrices(){convertWithInnerText(['[data-hook="FoldableSummarySectionDataHook.total"]','[data-hook="challenges-payment-page"] div div','[data-hook="visitor-page__main"] div div','[data-hook="LineItemDataHooks.Price"]','[data-hook="total-row-value"] span','[data-hook="payment-checkout-summary-plan-price"]'])}function converWixReplacement(){convertWithAppending(['[data-hook="ticket"]','[data-hook="invoice-breakdown"]'])}function convertThankYouPrices(){convertWithInnerText(['[data-hook="ProductLineItemDataHook.totalPrice"]','[data-hook="subtotal-row-value"]','[data-hook="total-row-value"]','[data-hook="challenge-pricing"]'])}function convertFilter(){convertWithInnerText(['[data-hook="filter-type-PRICE "] span'],!0);document.querySelectorAll('[data-hook="filter-type-PRICE "] span').forEach((e=>{e.style.fontSize="17px"}))}function convertShipping(){convertDigitsOnlyWithAppending(['[data-hook="dropdown-option"]'])}function convertMembers(){convertWithInnerText(['[data-hook="subtotal"]','[data-hook="shipping"]','[data-hook="tax-0"]','[data-hook="total"]','[data-hook="product-total"]','[data-hook="product-price"]','[data-hook="value"]','[data-hook="price"]','[class="RzBUQl"]','[data-hook="slot-plan-type"]','[data-hook="sr-only-details-price"]','[data-hook="details-price"]'])}function convertExtendedMembers(){convertCurrencyWithAppending(['[data-hook="price-currency"]']),convertDigitsOnlyWithAppending(['[data-hook="price-amount"]'])}function convertAllPrices(){convertCategoryPrices(),convertProductPagePrice(),convertCartTotals(),convertSideCartPrices(),convertCheckoutSummaryPrices(),convertThankYouPrices(),convertFilter(),convertMembers(),converWixReplacement()}window.addEventListener("load",(()=>{setTimeout((()=>{setInterval((()=>{convertAllPrices(),convertExtendedMembers()}),200)}),150)}));
