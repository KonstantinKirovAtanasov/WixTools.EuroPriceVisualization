const RATE=1.95583,REGEX=/(\d+(?:[.,]\d+)?)&nbsp;лв\.|лв(\d+(?:[.,]\d+)?)/g;function convertPriceText(e){const t=e.match(REGEX);if(!t||0==t.lenght)return;const o=parseFloat(t[0]);return isNaN(o)?null:(o/RATE).toFixed(2)}function convertSpecial(e){e.innerHTML.match(REGEX).forEach((t=>{e.innerHTML.replace(t,`${t} / ${convertAllPrices(t)}`)}))}function appendEUR(e,t,o,n){if(e.querySelector(".eur-price"))return;const r=document.createElement("span");r.className="eur-price",r.textContent=`/ ${t} €`,r.style.cssText=`\n    font-size: ${n||"1em"};\n    color: ${o||"FFFFFF"};\n    margin-left: 6px;\n    white-space: nowrap;\n  `,e.appendChild(r)}function convertWithInnerText(e){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{if(!e.innerText.includes("лв"))return;if(e.innerText.includes("€"))return;const t=convertPriceText(e.innerText);t&&(e.innerText+=` (${t} €)`)}))}))}function convertWithAppending(e){e.forEach((e=>{document.querySelectorAll(e).forEach((e=>{if(!e.innerText.includes("лв"))return;if(e.querySelector(".eur-price"))return;const t=convertPriceText(e.innerText);t&&appendEUR(e,t,e.style.color,e.style.fontSize)}))}))}function convertCategoryPrices(){convertWithAppending(['[data-hook="product-item-price-to-pay"]','[data-hook="formatted-primary-price"]','[data-hook="challenge-pricing"]'])}function convertProductPagePrice(){document.querySelectorAll('div[data-testid="richTextElement"]').forEach((e=>{const t=e.querySelector("p, h2, span");if(!t||!t.innerText.includes("лв")||t.querySelector(".eur-price"))return;const o=convertPriceText(t.innerText);o&&appendEUR(t,o)}))}function convertCartTotals(){convertWithAppending(['[data-hook="SubTotals.subtotalText"]','[data-hook="Total.formattedValue"]','[data-hook="TotalShipping.estimatedShipping"]','dd[data-hook="SubTotals.subtotalText"]','dd[data-hook="Total.formattedValue"]','dd[data-hook="TotalShipping.estimatedShipping"]'])}function convertSideCartPrices(){convertWithAppending(['[data-hook="CartItemDataHook.price"]','[data-hook="CartItemDataHook.totalPrice"] div','[data-hook="Footer.subtotalValue"]','[data-hook="cart-widget-item-price"]','[data-hook="cart-widget-total"]'])}function convertCheckoutSummaryPrices(){convertWithInnerText(['[data-hook="FoldableSummarySectionDataHook.total"]','[data-hook="LineItemDataHooks.Price"]','[data-hook="total-row-value"] span','[data-hook="payment-checkout-summary-plan-price"]'])}function convertThankYouPrices(){convertWithInnerText(['[data-hook="ProductLineItemDataHook.totalPrice"]','[data-hook="subtotal-row-value"]','[data-hook="total-row-value"]'])}function convertFilter(){convertSpecial(['[data-hook="filter-type-PRICE"]'])}function convertShipping(){convertSpecial(['[data-hook="dropdown-option"]'])}let areHeavyItemsConverted=!1;function convertAllPrices(){convertCategoryPrices(),convertProductPagePrice(),convertCartTotals(),convertSideCartPrices(),convertCheckoutSummaryPrices(),convertThankYouPrices(),areHeavyItemsConverted||(convertShipping(),convertSpecial(),areHeavyItemsConverted=!0)}window.addEventListener("load",(()=>{setTimeout((()=>{convertAllPrices(),setInterval(convertAllPrices,900)}),750)}));