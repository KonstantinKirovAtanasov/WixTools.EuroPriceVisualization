const RATE_EUR=1.95583;const REGEX=/(?:лв\.?|BGN)(?:\s*|&nbsp;|\u00A0)?(\d+(?:[.,]\d+)?)|(\d+(?:[.,]\d+)?)(?:\s*|&nbsp;|\u00A0)?(лв\.?|BGN)/g;const DIGIT_REGEX=/^\d+(?:[.,]\d+)?$/;function convertPriceText(text){const match=[...text.matchAll(REGEX)];if(!match||match.length===0)return;let numberStr=null;if(match[0][0]&&match[0][0].match(DIGIT_REGEX))numberStr=match[0][0];if(match[0][1]&&match[0][1].match(DIGIT_REGEX))numberStr=match[0][1];if(match[0][2]&&match[0][2].match(DIGIT_REGEX))numberStr=match[0][2];if(!numberStr)return;const number=parseFloat(numberStr.replace(',','.'));if(isNaN(number))return;return(number/RATE_EUR).toFixed(2).replace('.',',')}
function au(el,eur,contextColor,contextFontSize){if(el.querySelector(".eur-price"))return;const eurSpan=document.createElement("span");eurSpan.className="eur-price";eurSpan.textContent=`/ ${eur} €`;eurSpan.style.cssText=`
    font-size: ${contextFontSize|| "1em"};
    color: ${contextColor || "FFFFFF"};
    margin-left: 6px;
    white-space: nowrap;
  `;el.appendChild(eurSpan)}
function cwit(selectors){selectors.forEach((selector)=>{const elements=document.querySelectorAll(selector);elements.forEach((el)=>{if(!el.innerText.includes("лв"))return;if(el.innerText.includes("€"))return;const eur=convertPriceText(el.innerText,);if(eur)el.innerText+=`/ ${eur} €`})})}
function cwa(selectors){selectors.forEach((selector)=>{const elements=document.querySelectorAll(selector);elements.forEach((el)=>{if(!el.innerText.includes("лв"))return;if(el.querySelector(".eur-price"))return;const eur=convertPriceText(el.innerText);if(eur)au(el,eur,el.style.color,el.style.fontSize);})})}
function ccp(){cwa(['[data-hook="product-item-price-to-pay"]','[data-hook="formatted-primary-price"]','[data-hook="challenge-pricing"]'])}
function cpp(){const richTextDivs=document.querySelectorAll('div[data-testid="richTextElement"]');richTextDivs.forEach((div)=>{const p=div.querySelector("p, h2, span");if(!p||!p.innerText.includes("лв")||p.querySelector(".eur-price"))return;const eur=convertPriceText(p.innerText);if(eur)au(p,eur);})}
function cct(){cwa(['[data-hook="SubTotals.subtotalText"]','[data-hook="Total.formattedValue"]','[data-hook="TotalShipping.estimatedShipping"]','dd[data-hook="SubTotals.subtotalText"]','dd[data-hook="Total.formattedValue"]','dd[data-hook="TotalShipping.estimatedShipping"]'])}
function csct(){cwa(['[data-hook="CartItemDataHook.price"]','[data-hook="CartItemDataHook.totalPrice"] div','[data-hook="Footer.subtotalValue"]','[data-hook="cart-widget-item-price"]','[data-hook="cart-widget-total"]'])}
function ccsp(){cwit(['[data-hook="FoldableSummarySectionDataHook.total"]','[data-hook="LineItemDataHooks.Price"]','[data-hook="total-row-value"] span','[data-hook="payment-checkout-summary-plan-price"]'])}
function ctyp(){cwit(['[data-hook="ProductLineItemDataHook.totalPrice"]','[data-hook="subtotal-row-value"]','[data-hook="total-row-value"]'])}
function cf(){cwa(['[data-hook="filter-type-PRICE"]'])}
function csh(){cwa(['[data-hook="dropdown-option"]'])}
function cm(){cwit(['[data-hook="subtotal"]','[data-hook="shipping"]','[data-hook="tax-0"]','[data-hook="total"]','[data-hook="product-total"]','[data-hook="product-price"]','[data-hook="value"]'])}
function cap(){ccp();cpp();cct();csct();ccsp();ctyp()}
window.addEventListener("load",()=>{setTimeout(()=>{const interval=setInterval(()=>{cap()},200);},150)})